{"version":3,"sources":["webpack:///./src/app/pages/issue-thread/issue-thread.module.ts","webpack:///./src/app/pages/issue-thread/issue-thread.page.html","webpack:///./src/app/pages/issue-thread/issue-thread.page.scss","webpack:///./src/app/pages/issue-thread/issue-thread.page.ts"],"names":[],"mappings":"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","file":"pages-issue-thread-issue-thread-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { IssueThreadPage } from './issue-thread.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: IssueThreadPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [IssueThreadPage]\n})\nexport class IssueThreadPageModule {}\n","module.exports = \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-menu-button></ion-menu-button>\\r\\n        </ion-buttons>\\r\\n\\r\\n         <ion-buttons slot=\\\"end\\\">\\r\\n             <ion-back-button defaultHref=\\\"dashboard\\\"></ion-back-button>\\r\\n         </ion-buttons> \\r\\n        <ion-title>\\r\\n            Issue Communication\\r\\n        </ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header> \\r\\n\\r\\n\\r\\n<ion-content id=\\\"content\\\" #content class=\\\"scroll-content ionic-scroll  has-header\\\"> \\r\\n <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\r\\n        <ion-refresher-content></ion-refresher-content>\\r\\n     </ion-refresher> \\r\\n<ion-grid class=\\\"scroll\\\" style=\\\"-webkit-transform: translate3d(0px, -50px, 0px) scale(1); margin-top: 50px;\\\">\\r\\n    <ion-row *ngFor=\\\"let message of gruopMessages\\\"> \\r\\n   <ion-col  class=\\\"message\\\"> \\r\\n        <ion-item style=\\\"--inner-border-width:0px!important;\\\">\\r\\n            <span *ngIf=\\\"userId === message.userId\\\" slot=\\\"end\\\" class=\\\"user_name\\\" style=\\\"border-radius: 10px;background: #e5efc2; padding: 10px;color: #000;word-wrap: break-word;\\\">\\r\\n            {{ message.message }} \\r\\n             <br>\\r\\n           <span>{{message.createdAt | date:'dd.MM hh:MM'}}</span>\\r\\n            </span>\\r\\n            <span *ngIf=\\\"userId !== message.userId\\\" slot=\\\"start\\\" class=\\\"user_name\\\" style=\\\"    border-radius: 10px;background: #f1f1f1;padding: 10px;color: #000;border: 1px solid #dcd8d8;word-wrap: break-word;\\\"> \\r\\n          <b> {{message.login?.username}} </b>:{{message.message}} <br> {{message.createdAt | date:'dd.MM hh:MM'}}\\r\\n            </span> \\r\\n        </ion-item> \\r\\n      </ion-col> \\r\\n    </ion-row> \\r\\n  </ion-grid> \\r\\n</ion-content> \\r\\n<ion-footer>\\r\\n <ion-toolbar> \\r\\n    <ion-row class=\\\"message_row\\\">\\r\\n      <ion-col col-11>\\r\\n        <ion-item no-lines>\\r\\n          <ion-input type=\\\"text\\\" placeholder=\\\"Message\\\" [(ngModel)]=\\\"message\\\"></ion-input>\\r\\n        </ion-item>\\r\\n      </ion-col>\\r\\n      <ion-col col-1>\\r\\n        <button class=\\\"submit-btn\\\" expand=\\\"block\\\" type=\\\"submit\\\" (click)=\\\"sendMessage()\\\" [disabled]=\\\"message === ''\\\" style=\\\"    background: #ed502d;;padding: 15px 20px;color: #fff;width: 100%;border-radius: 5px;\\\">\\r\\n        Reply\\r\\n      </button> \\r\\n      </ion-col>\\r\\n    </ion-row> \\r\\n  </ion-toolbar>\\r\\n</ion-footer>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2lzc3VlLXRocmVhZC9pc3N1ZS10aHJlYWQucGFnZS5zY3NzIn0= */\"","import { Component, OnInit,ViewChild } from '@angular/core';\nimport { Router , ActivatedRoute, Params } from '@angular/router';\nimport { ItemService } from '../../services/item.service';\nimport { AlertController,ModalController,LoadingController ,ActionSheetController, Platform} from '@ionic/angular';\nimport { environment } from '../../../environments/environment';\nimport { HttpClient, HttpHeaders,HttpClientModule } from '@angular/common/http';  \nimport { IonContent} from '@ionic/angular'; //,ActionSheetController, Platform\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations'; // <-- import required BrowserAnimationsModule\nimport {AccordionModule} from \"ngx-accordion\";\n\n@Component({\n  selector: 'app-issue-thread',\n  templateUrl: './issue-thread.page.html',\n  styleUrls: ['./issue-thread.page.scss'],\n})\nexport class IssueThreadPage implements OnInit {\n\t@ViewChild(IonContent) content: IonContent;\n\ngruopMessages = [];\nissuesArr = [];\nbase_url : string = \"\";\nmessage : string = \"\";\nissueId : string = \"\";\nuserId : string = \"\";\n\nconstructor( \n  \tprivate router: Router,\n  \tprivate route: ActivatedRoute,\n    private http: HttpClient,\n    public itemService: ItemService,\n    public alertController: AlertController,\n    public loadingController: LoadingController,\n\tpublic modalController: ModalController) \n\t{\n\t\tthis.base_url = environment.base_url;\n\t\tthis.userId = sessionStorage.getItem(\"loggedInId\");  \n\t\tthis.route.queryParams.subscribe(params => { \n\t\tthis.issueId = params['issueId'];  \n  \t});\n\t\tthis.getUserData();\n\t}\n\n\tionViewDidEnter(){\n\t\tthis.ScrollToBottom();\n\t}\n\n/***************scroll down******************/\n\n  ScrollToBottom(){\n    this.content.scrollToBottom(1500);\n  }\n/***************scroll down******************/\n  ngOnInit() {\n  }\n  doRefresh(event) { \n        setTimeout(() => {\n          this.getUserData(); //do any things\n          event.target.complete();\n        }, 500);\n  }\n  getUserData(){\n        let token;  \n        if (sessionStorage.getItem(\"auth_token\") != undefined) {\n            token = sessionStorage.getItem(\"auth_token\");\n        } \n        let postArr = {\n\t\t\t\t\t\t'issueId' : this.issueId\n       \t\t\t\t };  \n\t\t    let headers = new HttpHeaders();\n\t\t    headers = headers.set('Authorization', token);\n\t\t    this.http.post(this.base_url+'issues/thread',postArr, { headers: headers }).subscribe((response: any) => {\n   \t\t//\tconsole.log(response.issues); \n        \tthis.gruopMessages = response.issues;\n        }); \t\n\t}\n  sendMessage(){\n  \tlet input_data={\n  \t\t'userId': this.userId,\n  \t\t'message': this.message,\n  \t\t'issueId':this.issueId,\n  \t\t'status': '0',\n  \t\t'createdAt': new Date() \n  \t};\n  \tthis.gruopMessages.push(input_data);  \n  \tthis.ScrollToBottom();\n    let token; \n    if (sessionStorage.getItem(\"auth_token\") != undefined) {\n        token = sessionStorage.getItem(\"auth_token\");\n    }   \n    let headers = new HttpHeaders();\n    headers = headers.set('Authorization', token);\n    this.http.post(this.base_url+'issues/thread/addreply',input_data, { headers: headers }).subscribe((response: any) => {\n\t   console.log(response.messages); \n\t//this.gruopMessages = response.messages; \n    }); \n\n  this.message =''; \n  console.log(this.gruopMessages);\n  }\n\n}\n"],"sourceRoot":""}