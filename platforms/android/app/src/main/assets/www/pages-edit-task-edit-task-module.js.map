{"version":3,"sources":["webpack:///./src/app/pages/edit-task/edit-task.module.ts","webpack:///./src/app/pages/edit-task/edit-task.page.html","webpack:///./src/app/pages/edit-task/edit-task.page.scss","webpack:///./src/app/pages/edit-task/edit-task.page.ts"],"names":[],"mappings":"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","file":"pages-edit-task-edit-task-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule,ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EditTaskPage } from './edit-task.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EditTaskPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [EditTaskPage]\n})\nexport class EditTaskPageModule {}\n","module.exports = \"<ion-header>\\n   <ion-toolbar>\\n      <ion-buttons slot=\\\"start\\\">\\n         <ion-menu-button></ion-menu-button>\\n      </ion-buttons>\\n      <ion-buttons slot=\\\"end\\\">\\n         <ion-back-button defaultHref=\\\"dashboard\\\"></ion-back-button>\\n      </ion-buttons>\\n      <ion-title>\\n         Edit task\\n      </ion-title>\\n   </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n\\t <form [formGroup]=\\\"task_form\\\" (submit)=\\\"editTask()\\\">\\n      <ion-row>\\n         <ion-col>\\n            <div class=\\\"ion-text-start\\\">\\n               <ion-item>\\n                  <ion-label style=\\\"color: #ed502d;\\\" position=\\\"floating\\\">Task name</ion-label>\\n                  <ion-input type=\\\"text\\\" formControlName=\\\"task_name\\\" required></ion-input>\\n               </ion-item>\\n               <div *ngIf=\\\"submitted && f.task_name.errors\\\" class=\\\"invalid-feedback\\\" style=\\\"padding: 10px; left;\\\">\\n                  <span *ngIf=\\\"f.task_name.errors.required\\\" style=\\\" text-align: left;color: red;font-style:italic;font-size: 12px;\\\">Title is required.\\n                  </span>\\n                   <span *ngIf=\\\"f.task_name.errors.pattern\\\" style=\\\" text-align: left;color: red;font-style:italic;font-size: 12px;\\\">Task name is not valid.\\n                  </span>\\n               </div>\\n            </div>\\n         </ion-col>\\n      </ion-row>\\n      <ion-row>\\n         <ion-col>\\n            <div class=\\\"ion-text-start\\\">\\n               <ion-item>\\n                  <ion-label  position=\\\"floating\\\" style=\\\"color: #ed502d;\\\">Select Status</ion-label>\\n                  <ion-select  formControlName=\\\"status\\\"> \\n                       <ion-select-option  [value]=\\\"PENDING\\\">PENDING</ion-select-option>\\n                       <ion-select-option  [value]=\\\"COMPLETE\\\" >COMPLETE</ion-select-option>\\n\\n                  </ion-select>\\n               </ion-item>\\n               <div *ngIf=\\\"submitted && f.status.errors\\\" class=\\\"invalid-feedback\\\" style=\\\"padding: 10px; left;\\\">\\n                  <span *ngIf=\\\"f.status.errors.required\\\" style=\\\"text-align: left;color: red;font-style:italic;font-size: 12px;\\\">This field is required.\\n                  </span>\\n               </div>\\n            </div>\\n         </ion-col>\\n      </ion-row>\\n      <ion-row>\\n         <ion-col>\\n            <div class=\\\"ion-text-start\\\">\\n               <ion-item>\\n                  <ion-label style=\\\"color: #ed502d;\\\" position=\\\"floating\\\">Notes (optional)</ion-label>\\n                  <ion-input type=\\\"text\\\" formControlName=\\\"notes\\\"></ion-input>\\n               </ion-item>\\n            </div>\\n         </ion-col>\\n      </ion-row>\\n      <ion-row>\\n         <ion-col>\\n            <div class=\\\"ion-text-start\\\">\\n               <button class=\\\"submit-btn\\\" expand=\\\"block\\\" type=\\\"submit\\\">Edit task\\n               </button>\\n            </div>\\n         </ion-col>\\n      </ion-row>\\n   </form>\\n\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2VkaXQtdGFzay9lZGl0LXRhc2sucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport {  FormGroup,  FormBuilder,  Validators,FormControl} from '@angular/forms';\nimport {  Router,  ActivatedRoute,  Params} from '@angular/router';\nimport {  AlertController} from '@ionic/angular';\nimport {  LoadingController} from '@ionic/angular';\nimport {  HttpClient,  HttpHeaders,  HttpClientModule} from '@angular/common/http';\nimport {  environment} from '../../../environments/environment';\n\n@Component({\n  selector: 'app-edit-task',\n  templateUrl: './edit-task.page.html',\n  styleUrls: ['./edit-task.page.scss'],\n})\nexport class EditTaskPage implements OnInit {\n   task_form: FormGroup;\n   taskId: any;\n   taskArr: any;\n   base_url: string = \"\";\n\n  constructor(\n    public formBuilder: FormBuilder,\n    private route: ActivatedRoute,\n    public alertController: AlertController,\n    public loadingController: LoadingController,\n    private http: HttpClient,\n    private router:Router\n\n  \t) { \n    this.task_form = this.formBuilder.group({\n      task_name: new FormControl('', [Validators.required,Validators.pattern(\"[a-zA-Z0-9]+[a-zA-Z0-9 ]+\")]),\n      status: new FormControl('',Validators.required),\n      notes: new FormControl(''),\n    });\n    this.route.queryParams.subscribe(params => {\n      console.log(params);\n      this.taskId = params['taskId'];\n    })\n    this.base_url = environment.base_url;\n\n\n  }\n\n\tngOnInit() {\n\t   this.getSuggestionList();\n\t}\n\n\tget f() {\n\t    return this.task_form.controls;\n\t}\n\n\teditTask(){\n\t      \tconsole.log(this.task_form.value);\n\t      \tif(this.task_form.invalid){\n\t            return;\n\t      \t}\n\t      \telse{\n\t      \t\tconst input_data = {\n\t\t\t      \"task_name\": this.task_form.value.task_name,\n\t\t\t      \"status\": this.task_form.value.status,\n\t\t\t      \"notes\": this.task_form.value.notes,\n\t\t\t    }\n\t\t\t    const formData = new FormData();\n\t\t\t      formData.append('task_name', input_data.task_name);\n\t\t\t      formData.append('status', input_data.status);\n\t\t\t      formData.append('notes', input_data.notes);\n\t\t\t   let token;\n\t\t\t    if (sessionStorage.getItem(\"auth_token\") != undefined) {\n\t\t\t      token = sessionStorage.getItem(\"auth_token\");\n\t\t\t    }\n\t\t\t    this.presentLoading();\n\t\t\t      const httpOptions = {\n\t\t\t\t        headers: new HttpHeaders({\n\t\t\t\t          'authorization': token\n\t\t\t\t        })\n\t\t\t\t      }; \n\t\t\t    this.http.post(this.base_url + 'editTask/' + this.taskId , formData,httpOptions).subscribe((response: any) => {\n\t\t\t     \n\t\t\t              this.presentAlert(response.message);\n\n\t\t\t      this.loadingController.dismiss().then(a => console.log('dismissed'));\n\t\t\t    }, error => {\n\t\t\t      //console.log(\"ERROR\");\n\t\t\t      //console.log(error.error);\n\t\t\t      this.loadingController.dismiss().then(a => console.log('dismissed'));\n\t\t\t    });\n\t      \t}\n\t}\n\n    getSuggestionList(): void {\n\t    let token;\n\t    if (sessionStorage.getItem(\"auth_token\") != undefined) {\n\t      token = sessionStorage.getItem(\"auth_token\");\n\t    }\n\t    this.presentLoading();\n\t    let headers = new HttpHeaders();\n\t    headers = headers.set('Authorization', token);\n\t    this.http.get(this.base_url + 'task/' + this.taskId + '/suggestion', {\n\t      headers: headers\n\t    }).subscribe((response: any) => {\n\t      this.taskArr = response.suggestionList.taskArr;\n\t       this.task_form = this.formBuilder.group({\n\t\t      task_name:this.taskArr.task_name,\n\t\t      status:this.taskArr.status,\n\t\t      notes: this.taskArr.notes,\n\t\t   });\n\t      console.log('this.taskForm',this.task_form.value);\n\t      this.loadingController.dismiss().then(a => console.log('dismissed'));\n\t    }, error => {\n\t      //console.log(\"ERROR\");\n\t      //console.log(error.error);\n\t      this.loadingController.dismiss().then(a => console.log('dismissed'));\n\t    });\n    }\n\n    async presentLoading() {\n\t    const loading = await this.loadingController.create({\n\t      duration: 2000,\n\t      cssClass: 'custom-class custom-loading',\n\t      spinner:null\n\t    });\n\t    await loading.present();\n\t    const {\n\t      role,\n\t      data\n\t    } = await loading.onDidDismiss();\n    }\n\n    async presentAlert(messageC) {\n\t    const alert = await this.alertController.create({\n\t      header: 'Success Message!',\n\t      subHeader: messageC,\n\t      message: 'Click Okay to redirect to Go Back and click Cancel to stay on same page.',\n\t      buttons: [{\n\t        text: 'Cancel',\n\t        role: 'cancel',\n\t        cssClass: 'secondary',\n\t        handler: (blah) => {\n\t          console.log('Confirmed Cancel: Cancelled');\n\t        }\n\t      }, {\n\t        text: 'Okay',\n\t        handler: () => {\n               this.router.navigate(['/teams'])\n\t          console.log('Confirmed Okay');\n\t        }\n\t      }]\n\t    });\n\t    alert.present();\n    }\n\n}\n"],"sourceRoot":""}