{"version":3,"sources":["webpack:///./src/app/pages/group-bill-listing/group-bill-listing.module.ts","webpack:///./src/app/pages/group-bill-listing/group-bill-listing.page.html","webpack:///./src/app/pages/group-bill-listing/group-bill-listing.page.scss","webpack:///./src/app/pages/group-bill-listing/group-bill-listing.page.ts"],"names":[],"mappings":"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","file":"pages-group-bill-listing-group-bill-listing-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { GroupBillListingPage } from './group-bill-listing.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: GroupBillListingPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [GroupBillListingPage]\n})\nexport class GroupBillListingPageModule {}\n","module.exports = \"<ion-header>\\r\\n   <ion-toolbar>\\r\\n      <ion-buttons slot=\\\"start\\\">\\r\\n         <ion-menu-button></ion-menu-button>\\r\\n      </ion-buttons>\\r\\n      <ion-buttons slot=\\\"end\\\">\\r\\n         <ion-back-button defaultHref=\\\"dashboard\\\"></ion-back-button>\\r\\n      </ion-buttons>\\r\\n      <ion-title>\\r\\n         Bills : {{teamname}}\\r\\n      </ion-title>\\r\\n   </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content padding>\\r\\n   <ion-row>\\r\\n      <ion-col>\\r\\n         <button [routerLink]=\\\"['/create-bills']\\\" class=\\\"billList-class\\\"> Add Bill </button>\\r\\n      </ion-col>\\r\\n      <ion-col>\\r\\n         <button [routerLink]=\\\"['/group-summary-page']\\\" [queryParams]=\\\"{teamId: teamId,teamname: teamname}\\\" class=\\\"billList-class\\\"> Bill Summary </button>\\r\\n      </ion-col>\\r\\n   </ion-row>\\r\\n   <ion-row>\\r\\n      <ion-col>\\r\\n         <h2 class=\\\"bill-listing\\\">Bills listing</h2>\\r\\n      </ion-col>\\r\\n   </ion-row>\\r\\n   <ion-card *ngFor=\\\"let bills of billsArr\\\">\\r\\n      <ion-card-header>\\r\\n      <ion-card-subtitle></ion-card-subtitle>\\r\\n      <ion-card-title class=\\\"ion-text-start\\\" >\\r\\n         <h2>\\r\\n            Title : {{bills.title}}\\r\\n            <span>\\r\\n               <ion-buttons (click)=\\\"removeBill(bills.bill_Id)\\\" class=\\\"listingButton\\\">\\r\\n                  <ion-icon name=\\\"trash\\\"></ion-icon>\\r\\n                  Delete\\r\\n               </ion-buttons>\\r\\n            </span>\\r\\n         </h2>\\r\\n      </ion-card-title>\\r\\n      </ion-card-header>\\r\\n      <ion-card-content>\\r\\n         Description:\\r\\n         <ion-item>Total Bill Paid Amount: {{bills.amount}} </ion-item>\\r\\n         <ion-item>Date: {{bills.date}}</ion-item>\\r\\n         <ion-item> Payer List:</ion-item>\\r\\n        <ion-list *ngFor=\\\"let ud of bills.userDetail\\\">\\r\\n            <ion-item *ngIf=\\\"ud.paid != 0\\\">\\r\\n              <ion-label> <b>{{ud?.userProfile?.login['username']}}</b><b *ngIf=\\\"ud?.userProfile?.login['username'] ==null\\\">No Username</b> </ion-label>\\r\\n               <ion-buttons slot=\\\"end\\\">\\r\\n                  â‚¬{{ud.paid}}\\r\\n               </ion-buttons>\\r\\n            </ion-item>\\r\\n         </ion-list>\\r\\n       <!--   <ion-item> Contributing Users:</ion-item>\\r\\n         <ion-list *ngFor=\\\"let ud of bills.userDetail\\\">\\r\\n            <ion-item *ngIf=\\\"ud.paid != 0\\\">\\r\\n               <ion-label> <b>{{ud?.userProfile?.login['username']}}</b><b *ngIf=\\\"ud?.userProfile?.login['username'] == null\\\">No Username</b> </ion-label>\\r\\n            </ion-item>\\r\\n         </ion-list> -->\\r\\n      <img src=\\\"https://apitx.kindlebit.com/uploads/{{bills.bill_Id}}\\\" onError=\\\"src='assets/images/Logo-colive.png'\\\" class=\\\"profile-img\\\">\\r\\n      </ion-card-content>\\r\\n   </ion-card>\\r\\n   <ion-item *ngIf=\\\"billsArr.length == 0\\\">\\r\\n      <h2> No bills updated yet.</h2>\\r\\n   </ion-item>\\r\\n</ion-content> \"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2dyb3VwLWJpbGwtbGlzdGluZy9ncm91cC1iaWxsLWxpc3RpbmcucGFnZS5zY3NzIn0= */\"","import {  Component,  OnInit} from '@angular/core';\nimport {Router,ActivatedRoute,Params} from '@angular/router';\nimport {  ItemService} from '../../services/item.service';\nimport {AlertController,ModalController,LoadingController,ActionSheetController,Platform,NavController} from '@ionic/angular';\nimport {  environment} from '../../../environments/environment';\nimport {  HttpClient,  HttpHeaders,  HttpClientModule} from '@angular/common/http';\nimport {  PopoverController} from '@ionic/angular';\n\n@Component({\n  selector: 'app-group-bill-listing',\n  templateUrl: './group-bill-listing.page.html',\n  styleUrls: ['./group-bill-listing.page.scss'],\n})\nexport class GroupBillListingPage implements OnInit {\n  base_url: string = \"\";\n  teamId: string = \"\";\n  teamname: string = \"\";\n  billsArr: any = [];\n  sucessArr: any = [];\n  isSuccess: boolean = true;\n  isError: boolean = false;\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private http: HttpClient,\n    public itemService: ItemService,\n    public alertController: AlertController,\n    public loadingController: LoadingController,\n    public modalController: ModalController,\n    private platform: Platform,\n    private navCtrl: NavController,\n    public popoverController: PopoverController,\n\n  ) {\n    this.base_url = environment.base_url;\n    this.route.queryParams.subscribe(params => {\n      this.teamId = params['teamId'];\n      this.teamname = params['teamname'];\n    });\n  }\n\n  ngOnInit() {\n    this.getBillListing();\n  }\n  ionViewWillEnter() {\n    this.getBillListing();\n  }\n\n  callme(event) {\n    console.log(event);\n  }\n\n  getBillListing() {\n    console.log('my bills get list out under this function');\n      let token;\n      if (sessionStorage.getItem(\"auth_token\") != undefined) {\n        token = sessionStorage.getItem(\"auth_token\");\n        console.log(token);\n      }\n      let headers = new HttpHeaders();\n      headers = headers.set('Authorization', token);\n      this.pleaseWait();\n\n      this.http.get(this.base_url + 'team/bills/' + this.teamId, {\n        headers: headers\n      }).subscribe((response: any) => {\n        this.loadingController.dismiss().then(a => console.log('dismissed'));\n        this.billsArr = response.bills;\n        console.log(this.billsArr);\n      }, error => {\n        console.log(\"ERROR\");\n        console.log(error.error);\n      });\n\n  }\n\n  async pleaseWait() {\n    const loading = await this.loadingController.create({\n      duration: 2000,\n      cssClass: 'custom-class custom-loading'\n    });\n    await loading.present();\n    const {\n      role,\n      data\n    } = await loading.onDidDismiss();\n  }\n\n   removeBill(billId) {\n        this.confirmDelete(billId);\n    }\n\n  async confirmDelete(id) {\n    const alert = await this.alertController.create({\n    header: 'Confirm!',\n    message: 'You really want to delete bill?',\n    buttons: [\n      {\n      text: 'Cancel',\n      role: 'cancel',\n      cssClass: 'secondary',\n        handler: (blah) => {\n        console.log('Confirm Cancel: blah');\n        }\n      }, {\n        text: 'Okay',\n          handler: () => {\n          this.deleteBill(id);\n          }\n        }\n    ]\n    });\n\n    await alert.present();\n  }\n\n\n  deleteBill(billId){\n  if (billId) {\n      let token;\n      if (sessionStorage.getItem(\"auth_token\") != undefined) {\n        token = sessionStorage.getItem(\"auth_token\");\n        console.log(token);\n      }\n        let headers = new HttpHeaders();\n        headers = headers.set('Authorization', token);\n        this.http.delete(this.base_url + 'bill/'+billId ,{headers: headers}).subscribe((response: any) => {\n        console.log(response);\n        this.isSuccess = true;\n        this.sucessArr = response;\n        this.isError = false;\n        this.loadingController.dismiss().then(a => console.log('dismissed'));\n        /*this.presentLoadingCustom(response.message); */\n        this.popoverController.dismiss();\n        this.presentAlert(response.message);\n        this.sucessArr = [];\n\n\n        }, error => {\n        console.log(error.error);\n        });\n      }\n  }\n\n  async presentAlert(message) {\n    const alert = await this.alertController.create({\n      header: 'Success Message!',\n      subHeader: message,\n      message: 'Click Okay to redirect to groups bill listing and click Cancel to stay on same page.',\n      buttons: [{\n        text: 'Cancel',\n        role: 'cancel',\n        cssClass: 'secondary',\n        handler: (blah) => {\n          console.log('Confirmed Cancel: blah');\n        }\n      }, {\n        text: 'Okay',\n        handler: () => {\n          this.router.navigate(['bill-listing']);\n          //console.log('Confirmed Okay');\n        }\n      }]\n    });\n    alert.present();\n  }\n\n  async presentLoading() {\n    const loading = await this.loadingController.create({\n      duration: 2000,\n      cssClass: 'custom-class custom-loading'\n    });\n    await loading.present();\n    const {\n      role,\n      data\n    } = await loading.onDidDismiss();\n  }\n\n  async presentLoadingCustom(msg) {\n    const loading = await this.loadingController.create({\n      message: msg,\n      duration: 3000,\n      cssClass: 'custom-class custom-loading'\n    });\n    await loading.present();\n    const {\n      role,\n      data\n    } = await loading.onDidDismiss();\n  }\n}"],"sourceRoot":""}